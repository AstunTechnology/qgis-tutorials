


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Working with WMS Data &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/greencloud.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Georeferencing Topo Sheets and Scanned Maps" href="georeferencing_basics.html" />
    <link rel="prev" title="Working with Terrain Data" href="working_with_terrain.html" />
 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-690672-13']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
<!-- Place this tag after the last widget tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="georeferencing_basics.html" title="Georeferencing Topo Sheets and Scanned Maps"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="working_with_terrain.html" title="Working with Terrain Data"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">QGIS Tutorials and Tips</a> &raquo;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="working-with-wms-data">
<h1>Working with WMS Data<a class="headerlink" href="#working-with-wms-data" title="Permalink to this headline">¶</a></h1>
<p>[ Download PDF <a class="reference external" href="../pdf/working_with_wms_a4.pdf">A4</a> <a class="reference external" href="../pdf/working_with_wms_letter.pdf">Letter</a> ]</p>
<p>Often you need reference data layers for your basemap or to display your
results in the context of other datasets. Many organizations publish datasets
online that can be readily used in GIS. A popular standard for publishing maps
online is called <strong>WMS (Web Map Service)</strong>. This is a better choice for using
reference layers as you get access to rich datasets in your GIS without the
hassle of downloading or styling the data.</p>
<div class="section" id="overview-of-the-task">
<h2>Overview of the task<a class="headerlink" href="#overview-of-the-task" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial, we will load layers of <a class="reference external" href="http://mrdata.usgs.gov/wms.html">Mineral Resources</a> published by USGS.</p>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Open QGIS and go to on <em class="menuselection">Layer ‣ Add WMS Layer...</em>.</li>
</ol>
<img alt="../_images/170.png" class="align-center" src="../_images/170.png" style="width: 700px;" />
<ol class="arabic simple" start="2">
<li>In the <em class="guilabel">Layers</em> tab, click on <em class="guilabel">New</em>.</li>
</ol>
<img alt="../_images/220.png" class="align-center" src="../_images/220.png" style="width: 700px;" />
<ol class="arabic simple" start="3">
<li>Name your connection. This is not the name of the layer but the name of
service which is offering the WMS layer. A single service usually offers
multiple layers that can be added to your project. The URL that you need to
access a WMS layer is called <em>GetCapabilities</em>. When you access a WMS server
with this parameter in the URL, it returns a list of layers available along
with various metadata. In this case, name the connection as <tt class="docutils literal"><span class="pre">MRDATA</span> <span class="pre">USGS</span></tt>
and the GetCapabilities URL as
<tt class="docutils literal"><span class="pre">http://mrdata.usgs.gov/services/ca?request=getcapabilities&amp;service=WMS&amp;version=1.1.1&amp;</span></tt>.
Click <em class="guilabel">OK</em>.</li>
</ol>
<img alt="../_images/315.png" class="align-center" src="../_images/315.png" style="width: 475px;" />
<ol class="arabic simple" start="4">
<li>Next, click on the <em class="guilabel">Connect</em> button to fetch the list of layers available. You
will notice different IDs listed next to the layers. ID <tt class="docutils literal"><span class="pre">0</span></tt> means you get a
map of all the layers. If you do not want all the layers, you can expand the
list by clicking on <em class="guilabel">+</em> icon and selecting the layer of interest. Selet the
layer <tt class="docutils literal"><span class="pre">0</span></tt> for this tutorial.</li>
</ol>
<img alt="../_images/415.png" class="align-center" src="../_images/415.png" style="width: 700px;" />
<ol class="arabic" start="5">
<li><p class="first">In the <em class="guilabel">Image encoding</em> section, you need to choose an image
format. Image formats matter a great deal and which one you choose depends on your use case. Here
are some pointers</p>
<ul class="simple">
<li>Quality: PNG is a lossless compressed image format. JPEG is lossy
compressed format. TIFF can be either. That means the quality of PNG
images will be better compared to JPEG. if your main purpose is to print
a map, use PNG.</li>
<li>Speed: Since PNG images are uncompressed and thus larger in size,
they will take longer to load. If you are using the layer in your project
as a reference layer and need to zoom/pan a lot, use JPEG.</li>
<li>Client Support: QGIS supports most of the formats, but if you are
developing web applications, browsers usually do not support TIFF,
so you should choose another format.</li>
<li>Type of data: If your layers are primarily vector, PNG will give better
results. For imagery layers, JPEG is usually a better choice.</li>
</ul>
<p>For this tutorial, choose <em class="guilabel">JPEG</em> as the format. Change the
<em class="guilabel">Layer name</em> if you wish and click <em class="guilabel">Add</em>.</p>
</li>
</ol>
<img alt="../_images/515.png" class="align-center" src="../_images/515.png" style="width: 700px;" />
<ol class="arabic simple" start="6">
<li>You will see the layer loaded in the QGIS canvas. You can zoom/pan around
just like any other layer. The way WMS service works is that every time you
zoom/pan, it sends your viewport coordinates to the server and the server
creates an image for that viewport and return it to the client. So there
will be some delay before you see the image for the area after you have
zoomed in. Also, since the data you see is an image, there is no way to
query for attributes like in a regular vector/imagery layer.</li>
</ol>
<img alt="../_images/614.png" class="align-center" src="../_images/614.png" style="width: 700px;" />
<ol class="arabic simple" start="7">
<li>You can, however, see some metadata about the layer. Right-click the layer
and choose <em class="guilabel">Properties</em>.</li>
</ol>
<img alt="../_images/714.png" class="align-center" src="../_images/714.png" style="width: 700px;" />
<ol class="arabic simple" start="8">
<li>You will notice that the <em class="guilabel">Properties</em> dialog looks different and has fewer
tabs. You can go to the <em class="guilabel">Metadata</em> tab to learn more about the WMS service
and the layers.</li>
</ol>
<img alt="../_images/814.png" class="align-center" src="../_images/814.png" style="width: 700px;" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><h3>Questions/Comments?</h3>
<p>Send me a message via my Google+ profile.</p>
<br>
<div class="g-person" data-width="200" data-href="//plus.google.com/116912222767108657277" data-theme="dark" data-showcoverphoto="false" data-rel="author"></div>
<h3><a href="../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Making a Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Working with Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basic Vector Styling</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Working with WMS Data</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferencing Aerial Imagery</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Performing Table Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Points in Polygon Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Creating Heatmaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Performing Spatial Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nearest Neighbor Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="teach_qgis.html">Teaching QGIS</a></li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/docs/working_with_wms.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="georeferencing_basics.html" title="Georeferencing Topo Sheets and Scanned Maps"
             >next</a></li>
        <li class="right" >
          <a href="working_with_terrain.html" title="Working with Terrain Data"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">QGIS Tutorials and Tips</a> &raquo;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Ujaval Gandhi.
      Last updated on Jan 30, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Searching and Downloading OpenStreetMap Data &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Basic Vector Styling" href="basic_vector_styling.html" />
    <link rel="prev" title="Using Plugins" href="using_plugins.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introdução</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Making a Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Working with Attributes</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basic Vector Styling</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calculating Line Lengths and Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferencing Aerial Imagery</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizing Map Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Performing Table Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Performing Spatial Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Points in Polygon Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Creating Heatmaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Performing Spatial Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nearest Neighbor Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Sampling Raster Data using Points or Polygons</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Using the QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Counting Number of Vertices in a Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Open BIL, BIP or BSQ files in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Getting Started With Python Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Find Neighbor Polygons in a Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="leaflet_maps_with_qgis2leaf.html">Leaflet Web Maps with qgis2leaf</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_gme_connector.html">Using Google Maps Engine Connector for QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="teach_qgis.html">Teaching QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="using_plugins.html" title="Previous Chapter: Using Plugins"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Using Plugins</span>
    </a>
  </li>
  <li>
    <a href="basic_vector_styling.html" title="Next Chapter: Basic Vector Styling"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Basic Vector Sty... &raquo;</span>
    </a>
  </li>
              
            
            

            
<form role="form" class="navbar-form navbar-right">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="fi_FI">Finnish</option>
  <option value="ro">Romanian</option>
  <option value="it">Italian</option>
  <option value="es">Spanish</option>
  <option value="pt_BR">Portuguese</option>
  <option value="nl">Dutch</option>
</select>
</form>

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<div class="g-person" data-width="250" data-href="//plus.google.com/u/0/116912222767108657277" data-showtagline="false" data-showcoverphoto="false" data-rel="author"></div>

<!-- AddThis Button BEGIN -->
<h4>Share</h4>
<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
    <a class="addthis_button_google_plusone_share"></a>
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_email"></a>
    <a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<!-- AddThis Button END -->
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="searching-and-downloading-openstreetmap-data">
<h1>Searching and Downloading OpenStreetMap Data<a class="headerlink" href="#searching-and-downloading-openstreetmap-data" title="Link permanente para este título">¶</a></h1>
<p>[ Download PDF <a class="reference external" href="../pdf/downloading_osm_data_a4.pdf">A4</a> <a class="reference external" href="../pdf/downloading_osm_data_letter.pdf">Letter</a> ]</p>
<p>Getting high quality data is essential for any GIS task. One great resource for
free and openly licensed data is <a class="reference external" href="http://www.openstreetmap.org/">OpenStreetMap(OSM)</a> . The OSM database consits of streets, local
data as well as building polygons. Getting access to OSM data in a GIS format
is integrated in QGIS. This tutorial explains the process for searching,
downloading and using OSM data in QGIS.</p>
<div class="section" id="overview-of-the-task">
<h2>Overview of the task<a class="headerlink" href="#overview-of-the-task" title="Link permanente para este título">¶</a></h2>
<p>Search for <em>London</em> in OSM database, browse and select a part of the city, and
extract all pub locations as a shapefile.</p>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link permanente para este título">¶</a></h2>
<ol class="arabic simple">
<li>We will use 2 plugins to accomplish the task. Make sure you have installed
<strong>OSM Place Search</strong> and <strong>OpenLayers</strong> plugins. See <a class="reference internal" href="using_plugins.html"><em>Using Plugins</em></a> for
instructions on downloading plugins.</li>
</ol>
<img alt="../_images/120.png" class="align-center" src="../_images/120.png" />
<ol class="arabic simple" start="2">
<li>The <strong>OSM Place Search</strong> plugin will install itself as a <em>Panel</em> in QGIS.
You will see a new panel titled <em class="guilabel">OSM place search...</em> in QGIS.</li>
</ol>
<img alt="../_images/28.png" class="align-center" src="../_images/28.png" />
<ol class="arabic simple" start="3">
<li>The <strong>OpenLayers</strong> plugin is installed under the <em>Plugin</em> menu. This plugin
allows you to access basemaps from various providers in QGIS. Let&#8217;s load the
OpenStreetMap basemap in QGIS by going to <em class="menuselection">Plugins ‣
OpenLayers plugin ‣ Add OpenStreetMap layer</em>.</li>
</ol>
<img alt="../_images/38.png" class="align-center" src="../_images/38.png" />
<ol class="arabic simple" start="4">
<li>You will see a world map loaded in QGIS.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">If you do not see any data - make sure you are online - as the basemap tiles
are fetched from the internet. You can also use the <em>Pan</em> tool to move the
map canvas slightly, which will trigger a refresh of the basemap.</p>
</div>
<img alt="../_images/47.png" class="align-center" src="../_images/47.png" />
<ol class="arabic simple" start="5">
<li>Now, let&#8217;s search for <em>London</em>. Type the query in the <em class="guilabel">Name
contains...</em> box in the <strong>OSM Place Search</strong> panel. You can hover over the
results and the appropriate place will be highlighted on the map. Select the
first result - which the city of London in UK - and click the
<em class="guilabel">Zoom</em> button.</li>
</ol>
<img alt="../_images/57.png" class="align-center" src="../_images/57.png" />
<ol class="arabic simple" start="6">
<li>You will see the base layer move and center around the city of London. You
can use the <em class="guilabel">Zoom</em> tool to zoom and select the exact area of your
interest. For this tutorial, you can zoom in the center of the city as
shown.</li>
</ol>
<img alt="../_images/66.png" class="align-center" src="../_images/66.png" />
<ol class="arabic simple" start="7">
<li>Now we can download the data displayed on the map canvas. Go to
<em class="menuselection">Vector ‣ OpenStreetMap ‣ Downlod data</em>.</li>
</ol>
<img alt="../_images/76.png" class="align-center" src="../_images/76.png" />
<ol class="arabic simple" start="8">
<li>In the <em class="guilabel">Download OpenStreetMap data</em> dialog, choose
<em class="guilabel">From map canvas</em> as the <em class="guilabel">Extent</em>. Choose the path and
name the output file as <tt class="docutils literal"><span class="pre">london.osm</span></tt>.</li>
</ol>
<img alt="../_images/86.png" class="align-center" src="../_images/86.png" />
<ol class="arabic simple" start="9">
<li>The downloaded file with the <tt class="docutils literal"><span class="pre">.osm</span></tt> extension is an text file in the <a class="reference external" href="http://wiki.openstreetmap.org/wiki/OSM_XML">OSM
XML</a> format. We first need to
convert it into a suitable format that is easy to consume in QGIS. Go to
<em class="menuselection">Vector ‣ OpenStreetMap ‣ Import topology from XML</em>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Now that we do not need the <strong>OSM Place Search</strong> functionality, you can
click the close button to remove it from the main window. If you need to use
it again, you can enable it from  <em class="menuselection">View ‣ Panels ‣ OSM
place search...</em> (Windows) or <em class="menuselection">Settings ‣ Panels ‣ OSM place search...</em> (Linux).</p>
</div>
<img alt="../_images/96.png" class="align-center" src="../_images/96.png" />
<ol class="arabic simple" start="10">
<li>Choose the downloaded <tt class="docutils literal"><span class="pre">london.osm</span></tt> as the <em class="guilabel">Input XML file</em>.
Name the <em class="guilabel">Output SpatiaLite DB file</em> as <tt class="docutils literal"><span class="pre">london.osm.db</span></tt>. Make
sure the <em class="guilabel">Create connection (SpatiaLite) after import</em> button is
checked.</li>
</ol>
<img alt="../_images/106.png" class="align-center" src="../_images/106.png" />
<ol class="arabic simple" start="11">
<li>Now the last step. We need to create SpatialLite geometry layers that can
be viewed and analyzed in QGIS. This is done using <em class="menuselection">Vector
‣ OpenStreetMap ‣ Export topology to SpatialLite</em>.</li>
</ol>
<img alt="../_images/1111.png" class="align-center" src="../_images/1111.png" />
<ol class="arabic simple" start="12">
<li>The <tt class="docutils literal"><span class="pre">london.osm.db</span></tt> file contains all feature types in the OSM database -
Points, Lines and Polygons. GIS layers typically contain only one type of
feature, so you need to choose one. Since we are interested in point
locations of pubs, here you need to choose <em class="guilabel">Point (nodes)</em> as the
<em class="guilabel">Export type</em>. You would choose <em class="guilabel">Polylines (open ways)</em>
if you wanted to get the road network. Name the <em class="guilabel">Output layer
name</em> as <tt class="docutils literal"><span class="pre">london_points</span></tt>. GIS data has 2 parts to it - location and
attributes. We are also interested in the <strong>name</strong> of the pub - not just
its location, so we need to export that information as well. Click on
<em class="guilabel">Load from DB</em> under <em class="guilabel">Exported tags</em> section. This will
fetch all attributes from the <tt class="docutils literal"><span class="pre">london.osm.db</span></tt> file. Check
<em class="guilabel">name</em> and <em class="guilabel">amenity</em> tags. See <a class="reference external" href="http://wiki.openstreetmap.org/wiki/Tags">OSM Tags</a> to learn more about what
each attribute means. Make sure the <em class="guilabel">Load into canvas when
finished</em> is checked, and click <em class="guilabel">OK</em>.</li>
</ol>
<img alt="../_images/126.png" class="align-center" src="../_images/126.png" />
<ol class="arabic simple" start="13">
<li>You will see a new point layer named <tt class="docutils literal"><span class="pre">london_points</span></tt> loaded in QGIS. Note
that this contains <strong>ALL</strong> points in the OSM database for the viewport.
Since we are interested only in pubs, we need to write a query to select
only those. Right click on <tt class="docutils literal"><span class="pre">london_points</span></tt> layer and select
<em class="guilabel">Open Attribute Table</em>.</li>
</ol>
<img alt="../_images/136.png" class="align-center" src="../_images/136.png" />
<ol class="arabic simple" start="14">
<li>You will note that some features have the attribute value of <strong>pubs</strong>
listed under the <em class="guilabel">amenity</em> column. Click on <em class="guilabel">Select
features using an expression</em> button.</li>
</ol>
<img alt="../_images/146.png" class="align-center" src="../_images/146.png" />
<ol class="arabic simple" start="15">
<li>Enter the expression <cite>&#8220;amenity&#8221; = &#8216;pub&#8217;</cite> and click <em class="guilabel">Select</em>.</li>
</ol>
<img alt="../_images/156.png" class="align-center" src="../_images/156.png" />
<ol class="arabic simple" start="16">
<li>Back in the QGIS Canvas, you will see some points highlighted in yellow.
These are the result of our query. Right-click the <tt class="docutils literal"><span class="pre">london_points</span></tt> layer
and choose <em class="guilabel">Save Selection As...</em>.</li>
</ol>
<img alt="../_images/166.png" class="align-center" src="../_images/166.png" />
<ol class="arabic simple" start="17">
<li>In the <em class="guilabel">Save vector layer as...</em> dialog, enter the name of the
output file as <tt class="docutils literal"><span class="pre">london_pubs.shp</span></tt>. Leave all other options as they are and
make sure the <em class="guilabel">Add saved file to map</em> option is checked. Click
<em class="guilabel">OK</em>.</li>
</ol>
<img alt="../_images/176.png" class="align-center" src="../_images/176.png" />
<ol class="arabic simple" start="18">
<li>You will see a new layer named <tt class="docutils literal"><span class="pre">london_pubs</span></tt> in the QGIS canvas. Uncheck
the <tt class="docutils literal"><span class="pre">london_points</span></tt> layer as we don&#8217;t need that anymore.</li>
</ol>
<img alt="../_images/186.png" class="align-center" src="../_images/186.png" />
<ol class="arabic simple" start="19">
<li>The extraction of the pubs shapefile layer is now complete. You can use the
<em class="guilabel">Identify</em> tool to click on any of the point as see its
attributes.</li>
</ol>
<img alt="../_images/194.png" class="align-center" src="../_images/194.png" />
</div>
</div>



  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Ujaval Gandhi.<br/>
      Última atualização em Jul 10, 2014.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
<!-- Google+ Badge -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/downloading_osm_data.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Werken met attributen &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Werkbladen of CSV-bestanden importeren" href="importing_spreadsheets_csv.html" />
    <link rel="prev" title="Een kaart maken" href="making_a_map.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introductie</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Een kaart maken</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Werken met attributen</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Werkbladen of CSV-bestanden importeren</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Plug-ins gebruiken</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Zoeken en downloaden van gegevens van OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basis opmaken van vectoren</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Lengten van lijnen en statistieken berekenen</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basis opmaken en analyses van rasters</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Rasters mozaieken en clippen</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Werken met gegevens over het terrein</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Werken met gegevens van WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Topobladen en gescande kaarten voorzien van geoverwijzingen</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Geo-verwijzingen voor satellietbeelden</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Kaartgegevens digitaliseren</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Samenvoegen van tabellen uitvoeren</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Ruimtelijke samenvoegingen uitvoeren</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Punten in polygoon-analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps maken</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Ruimtelijke query&#8217;s uitvoeren</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analyse Nearest Neighbor</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Monsters nemen van rastergegevens met behulp van punten of polygonen</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpoleren van puntgegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Massa verwerken met behulp van Framework Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Complexe werkstromen automatiseren met behulp van Grafische modellen bouwen</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Maken van kaarten automatiseren met Atlas van Printvormgeving</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">De QGIS Browser gebruiken</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Aantal punten in een laag tellen</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">BIL-, BIP- of BSQ-bestanden openen in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Beginnen met programmeren in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Een plug-in in Python bouwen</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Aangepaste Python expressie-functies gebruiken</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Python-scripts schrijven voor framework Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Taken voor QGIS uitvoeren en in schema zetten</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Naburige polygonen in een laag zoeken</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="leaflet_maps_with_qgis2leaf.html">Kaarten op Leaflet Web met qgis2leaf</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_gme_connector.html">Google Maps Engine Connector gebruiken voor QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS bronnen om te leren</a></li>
<li class="toctree-l1"><a class="reference internal" href="teach_qgis.html">Lesgeven in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Gebruik van gegevens</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="making_a_map.html" title="Previous Chapter: Een kaart maken"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Een kaart maken</span>
    </a>
  </li>
  <li>
    <a href="importing_spreadsheets_csv.html" title="Next Chapter: Werkbladen of CSV-bestanden importeren"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Werkbladen of CS... &raquo;</span>
    </a>
  </li>
              
            
            

            
<form role="form" class="navbar-form navbar-right">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="es">Spanish</option>
  <option value="vi">Vietnamese</option>
</select>
</form>

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<div class="g-person" data-width="250" data-href="//plus.google.com/u/0/116912222767108657277" data-showtagline="false" data-showcoverphoto="false" data-rel="author"></div>

<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="working-with-attributes">
<h1>Werken met attributen<a class="headerlink" href="#working-with-attributes" title="Permalink naar deze titel">¶</a></h1>
<p>[ Download PDF <a class="reference external" href="../pdf/working_with_attributes_a4.pdf">A4</a> <a class="reference external" href="../pdf/working_with_attributes_letter.pdf">Letter</a> ]</p>
<p>Gegevens van GIS bestaan uit twee gedeelten - objecten en  attributen. Attributen zijn gestructureerde gegevens over elk object. Deze handleiding laat zien hoe de attributen te bekijken en basisquery&#8217;s op ze uit te voeren in QGIS.</p>
<div class="section" id="overview-of-the-task">
<h2>Overzicht van de taak<a class="headerlink" href="#overview-of-the-task" title="Permalink naar deze titel">¶</a></h2>
<p>De gegevensset voor deze handleiding bevat informatie over bewoonde plaatsen in de wereld. De taak is om een bevraging te doen en alle hoofdsteden in de wereld te zoeken die een bevolking hebben van meer dan 1.000.000.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Andere vaardigheden die u zult leren<a class="headerlink" href="#other-skills-you-will-learn" title="Permalink naar deze titel">¶</a></h3>
<ul class="simple">
<li><p class="first">Objecten van een laag selecteren met behulp van expressies.</p>
</li>
<li><p class="first">Objecten van een laag deselecteren met behulp van de werkbalk <em class="guilabel">Attributen</em>.</p>
</li>
<li><p class="first"><em class="guilabel">Query bouwer</em> gebruiken om een subverzameling van objecten van een laag weer te geven</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>De gegevens ophalen<a class="headerlink" href="#get-the-data" title="Permalink naar deze titel">¶</a></h2>
<p>Natural Earth heeft een mooie gegevensset <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-populated-places/">Populated Places</a> . Download de <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">simple (less columns) dataset</a></p>
<p>Voor het gemak kunt u direct een kopie van de gegevenssets downloaden vanaf de link hieronder:</p>
<p><a class="reference external" href="../../downloads/ne_10m_populated_places_simple.zip">ne_10m_populated_places_simple.zip</a></p>
<p>Gegevensbron <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink naar deze titel">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Open QGIS als u de gegevens eenmaal hebt gedownload. Ga naar <em class="menuselection">Kaartlagen ‣ Laag toevoegen ‣ Vectorlaag toevoegen...</em>.</p>
</li>
</ol>
<img alt="../_images/1138.png" class="align-center" src="../_images/1138.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Klik op <em class="guilabel">Bladeren</em> en navigeer naar de map waar u de gegevens heeft opgeslagen.</p>
</li>
</ol>
<img alt="../_images/289.png" class="align-center" src="../_images/289.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Zoek het gedownloade zip-bestand <cite>ne_10m_populated_places_simple.zip</cite>. U hoeft het bestand niet uit te pakken. QGIS heeft de mogelijkheid om zip-bestanden direct in te lezen. Selecteer het bestand en klik op <em class="guilabel">Openen</em>.</p>
</li>
</ol>
<img alt="../_images/346.png" class="align-center" src="../_images/346.png" />
<ol class="arabic simple" start="4">
<li><p class="first">De geselecteerde laag zal nu worden geladen in QGIS en u zult vele punten zien die de bewoonde plaatsen in de wereld weergeven.</p>
</li>
</ol>
<img alt="../_images/433.png" class="align-center" src="../_images/433.png" />
<ol class="arabic simple" start="5">
<li><p class="first">Klik met rechts op de laag en selecteer <em class="guilabel">Open attributentabel</em>.</p>
</li>
</ol>
<img alt="../_images/534.png" class="align-center" src="../_images/534.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Verken de verschillende attributen en hun waarden.</p>
</li>
</ol>
<img alt="../_images/632.png" class="align-center" src="../_images/632.png" />
<ol class="arabic simple" start="7">
<li><p class="first">We zijn geïnteresseerd in de populatie van elk object, dus <cite>pop_max</cite> is het veld waar we naar zoeken. U kunt tweemaal op de kolomkop klikken om de kolom in aflopende volgorde te sorteren.</p>
</li>
</ol>
<img alt="../_images/731.png" class="align-center" src="../_images/731.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Nu zijn we klaar om onze query op deze attributen uit te voeren. QGIS gebruikt SQL-achtige expressies om query&#8217;s uit te voeren. Klik op <em class="guilabel">Selecteer objecten m.b.v. reguliere expressie</em>.</p>
</li>
</ol>
<img alt="../_images/830.png" class="align-center" src="../_images/830.png" />
<ol class="arabic simple" start="9">
<li><p class="first">Vergroot, in het venster <em class="guilabel">Select By Expression</em>, het gedeelte <em class="guilabel">Velden en waarden</em> en dubbelklik op het label <tt class="docutils literal"><span class="pre">pop_max</span></tt>.  U zult zien dat het wordt toegevoegd aan het gedeelte van de expressie onder in het venster.  Als u niet zeker bent van de waarden in het veld, kunt u klikken op <em class="guilabel">alle unieke</em> om te zien wat de huidige aanwezige waarden in de gegevensset zijn. Voor deze oefening zoeken we naar alle objecten die een inwoneraantal hebben van groter dan <tt class="docutils literal"><span class="pre">1.000.000</span></tt>. Voltooi dus de expressie zoals hieronder en klik op <em class="guilabel">Selecteren</em>.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>&quot;pop_max&quot; &gt; 1000000
</pre></div>
</div>
<img alt="../_images/928.png" class="align-center" src="../_images/928.png" />
<ol class="arabic simple" start="10">
<li><p class="first">Klik op <em class="guilabel">Sluiten</em> en ga terug naar het hoofdvenster van QGIS. U zult zien dat een subverzameling van de punten nu in geel wordt weergegeven. Dit is het resultaat van onze query en u ziet alle plaatsen uit de gegevensset waarvan de waarde van het attribuut <tt class="docutils literal"><span class="pre">pop_max</span></tt> groter is dan <tt class="docutils literal"><span class="pre">1.000.000</span></tt>.</p>
</li>
</ol>
<img alt="../_images/1029.png" class="align-center" src="../_images/1029.png" />
<ol class="arabic simple" start="11">
<li><p class="first">Het doel voor deze oefening is om de plaatsen te zoeken die hoofdsteden van landen zijn. Het veld dat deze gegevens bevat is <cite>adm0cap</cite>. De waarde <tt class="docutils literal"><span class="pre">1</span></tt> geeft aan dat de plaats een hoofdstad is. We kunnen dit criterium toevoegen aan onze eerdere expressie met behulp van de operator <tt class="docutils literal"><span class="pre">AND</span></tt>. Laten we onze query verfijnen om allen die plaatsen te selecteren die hoofdsteden zijn. Klik op de knop <em class="guilabel">Objecten selecteren m.b.v. reguliere expressie</em> in de attributentabel en voer de expressie in zoals hieronder en klik op <em class="guilabel">Selecteren</em> en dan <em class="guilabel">Sluiten</em>.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>&quot;pop_max&quot; &gt; 1000000 and &quot;adm0cap&quot; = 1
</pre></div>
</div>
<img alt="../_images/1139.png" class="align-center" src="../_images/1139.png" />
<ol class="arabic simple" start="12">
<li><p class="first">Ga terug naar het hoofdvenster van QGIS. Nu zult u een kleinere subverzameling van punten zien geselecteerd. Dit is het resultaat van de tweede query en geeft alle plaatsen in de wereld weer die hoofdsteden van landen zijn en ook een inwoneraantal hebben dat groter is dan 1.000.000. Als we nog wat meer analyses zouden willen uitvoeren op deze subverzameling, zouden we deze selectie kunnen vastzetten. Klik met rechts op de laag <tt class="docutils literal"><span class="pre">ne_10m_populated_places_simple</span></tt> en selecteer <em class="guilabel">Eigenschappen</em>.</p>
</li>
</ol>
<img alt="../_images/1229.png" class="align-center" src="../_images/1229.png" />
<ol class="arabic simple" start="13">
<li><p class="first">Scroll, op de tab <em class="guilabel">Algemeen</em>, naar beneden naar het gedeelte <em class="guilabel">Deelverzameling objecten</em>. Klik op <em class="guilabel">Querybouwer</em>.</p>
</li>
</ol>
<img alt="../_images/1327.png" class="align-center" src="../_images/1327.png" />
<ol class="arabic simple" start="14">
<li><p class="first">Voer dezelfde expressie in als die welke u eerder invoerde en klik op <em class="guilabel">OK</em>.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>&quot;pop_max&quot; &gt; 1000000 and &quot;adm0cap&quot; = 1
</pre></div>
</div>
<img alt="../_images/1426.png" class="align-center" src="../_images/1426.png" />
<ol class="arabic simple" start="15">
<li><p class="first">Terug in het hoofdvenster van QGIS zult u zien dat de rest van de punten verdwijnt. U zou nu een andere analyse op de deze laag kunnen uitvoeren en dan zullen alleen de objecten die voldoen aan onze expressie worden gebruikt. Het zal u opvallen dat de punten nog steeds geel worden weergegeven. Dit is omdat zij nog steeds geselecteerd zijn. Zoek de knop <em class="guilabel">Objecten uit alle lagen deselecteren</em> op de werkbalk <em class="guilabel">Attributen</em> en klik er op.</p>
</li>
</ol>
<img alt="../_images/1524.png" class="align-center" src="../_images/1524.png" />
<ol class="arabic simple" start="16">
<li><p class="first">U zult zien dat de punten nu gedeselecteerd zijn en in hun originele kleur worden weergegeven.</p>
</li>
</ol>
<img alt="../_images/1623.png" class="align-center" src="../_images/1623.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Ujaval Gandhi.<br/>
      Laatste aanpassing op Oct 09, 2015.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
<!-- Google+ Badge -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/working_with_attributes.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Găsirea poligoanelor învecinate dintr-un strat &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Crearea hărților web Leaflet cu ajutorul qgis2leaf" href="leaflet_maps_with_qgis2leaf.html" />
    <link rel="prev" title="Noțiuni de bază despre programarea în Python" href="getting_started_with_pyqgis.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducere</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Crearea unei hărți</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Lucrul cu atribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importul foilor de calcul sau a fișierelor CSV</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Utilizarea Plugin-urilor</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Căutarea și descărcarea datelor OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Noțiuni de bază despre stilizarea vectorilor</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Determinarea lungimii liniilor și vizualizarea statisticilor</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Noțiuni de bază despre analiza și stilizarea rasterelor</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mozaicarea și tăierea rasterelor</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Lucrul cu date despre teren</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Lucrul cu date WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferențierea paginilor topografice și a hărților scanate</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferențierea imaginilor aeriene</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizarea datelor provenite din hărți</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Unificarea tabelelor</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizarea uniunilor spațiale</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Analiza punctelor dintr-un poligon</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crearea zonelor fierbinți</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Efectuarea interogărilor spațiale</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analiza celui mai apropiat vecin</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Eșantionarea datelor raster folosind puncte sau poligoane</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesarea loturilor folosind cadrul de procesare</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Utilizarea QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Aflarea numărului de noduri dintr-un strat</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Fișierele Open BIL, BIP sau BSQ în QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Noțiuni de bază despre programarea în Python</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Găsirea poligoanelor învecinate dintr-un strat</a></li>
<li class="toctree-l1"><a class="reference internal" href="leaflet_maps_with_qgis2leaf.html">Crearea hărților web Leaflet cu ajutorul qgis2leaf</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_gme_connector.html">Folosirea conectorului Google Maps Engine pentru QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Resurse de învățare QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="teach_qgis.html">Predare QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Creditare date</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="getting_started_with_pyqgis.html" title="Previous Chapter: Noțiuni de bază despre programarea în Python"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Noțiuni de bază ...</span>
    </a>
  </li>
  <li>
    <a href="leaflet_maps_with_qgis2leaf.html" title="Next Chapter: Crearea hărților web Leaflet cu ajutorul qgis2leaf"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Crearea hărților... &raquo;</span>
    </a>
  </li>
              
            
            

            
<form role="form" class="navbar-form navbar-right">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="ro">Romanian</option>
  <option value="fi_FI">Finnish</option>
  <option value="it">Italian</option>
  <option value="nl">Dutch</option>
  <option value="es">Spanish</option>
  <option value="ru">Russian</option>
  <option value="pt_BR">Portuguese</option>
</select>
</form>

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<div class="g-person" data-width="250" data-href="//plus.google.com/u/0/116912222767108657277" data-showtagline="false" data-showcoverphoto="false" data-rel="author"></div>

<!-- AddThis Button BEGIN -->
<h4>Share</h4>
<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
    <a class="addthis_button_google_plusone_share"></a>
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_email"></a>
    <a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<!-- AddThis Button END -->
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="find-neighbor-polygons-in-a-layer">
<h1>Găsirea poligoanelor învecinate dintr-un strat<a class="headerlink" href="#find-neighbor-polygons-in-a-layer" title="Permalink to this headline">¶</a></h1>
<p>[ Download PDF <a class="reference external" href="../pdf/find_neighbor_polygons_a4.pdf">A4</a> <a class="reference external" href="../pdf/find_neighbor_polygons_letter.pdf">Letter</a> ]</p>
<p>There are some use cases where you want to find all neighboring polygons of
each of the polygons in a layer. With a little python script, we can accomplish
this and much more in QGIS. Here is an example script you can use to find all
polygons that share boundary with each of the polygons in a layer and also add
their names to the attribute table. As an added bonus, the script also sums up
an attribute of your choice from all the neighboring polygons.</p>
<div class="section" id="overview-of-the-task">
<h2>Privire de ansamblu asupra activității<a class="headerlink" href="#overview-of-the-task" title="Permalink to this headline">¶</a></h2>
<p>Pentru a demonstra modul în care funcționează script-ul, vom folosi un strat poligonal de țări și vom găsi țările care împart aceeași frontieră. De asemenea, ne dorim să calculăm totalul populației  din țările învecinate.</p>
</div>
<div class="section" id="get-the-data">
<h2>Obținerea datelor<a class="headerlink" href="#get-the-data" title="Permalink to this headline">¶</a></h2>
<p>Vom folosi setul de date <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-0-countries/">Admin 0 - Țări</a> de la Natural Earth.</p>
<p>Vom folosi setul de date <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_admin_0_countries.zip">Admin 0 - fișierul shape al țărilor.</a>.</p>
<p>Sursa de date <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="get-the-script">
<h2>Obținerea script-ului<a class="headerlink" href="#get-the-script" title="Permalink to this headline">¶</a></h2>
<p>Descărcați script-ul <a class="reference download internal" href="../_downloads/neighbors.py"><tt class="xref download docutils literal"><span class="pre">neighbors.py</span></tt></a> și salvați-l pe discul dumneavoastră.</p>
</div>
<div class="section" id="procedure">
<h2>Procedura<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Încărcați stratul <tt class="docutils literal"><span class="pre">ne_10m_admin_0_countries</span></tt> mergând la <em class="menuselection">Layer ‣ Add Vector Layer</em>.</p>
</li>
</ol>
<img alt="../_images/127.png" class="align-center" src="../_images/127.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Script-ul folosește 2 câmpuri pentru a efectua acțiunea. Un câmp pentru nume și un câmp pe care doriți să-l însumați. Utilizați instrumentul <em class="guilabel">Identify</em> pentru a face clic pe orice element și să examinați atributele. În acest caz, câmpul pentru nume este <strong>NAME</strong>, și vrem să însumăm estimările de populație din câmpul <strong>POP_EST</strong>.</p>
</li>
</ol>
<img alt="../_images/210.png" class="align-center" src="../_images/210.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Mergeți la <em class="menuselection">Plugins ‣ Python Console</em>.</p>
</li>
</ol>
<img alt="../_images/39.png" class="align-center" src="../_images/39.png" />
<ol class="arabic simple" start="4">
<li><p class="first">În fereastra <em class="guilabel">Python Console</em>, faceți clic pe butonul <em class="guilabel">Show Editor</em>.</p>
</li>
</ol>
<img alt="../_images/48.png" class="align-center" src="../_images/48.png" />
<ol class="arabic simple" start="5">
<li><p class="first">În panoul <em class="guilabel">Editor</em>, faceți clic pe butonul <em class="guilabel">Open file</em>, navigați la script-ul descărcat <tt class="docutils literal"><span class="pre">neighbors.py</span></tt> și apăsați <em class="guilabel">Open</em>.</p>
</li>
</ol>
<img alt="../_images/58.png" class="align-center" src="../_images/58.png" />
<ol class="arabic simple" start="6">
<li><p class="first">O dată ce script-ul este încărcat, este posibil să doriți să schimbați valorile <tt class="docutils literal"><span class="pre">_NAME_FIELD</span></tt> și <tt class="docutils literal"><span class="pre">_SUM_FIELD</span></tt> pentru a se potrivi cu atributele din propriul strat. Dacă lucrați cu stratul  <tt class="docutils literal"><span class="pre">ne_10m_admin_0_countries</span></tt>, le puteți lăsa așa cum sunt. Faceți clic pe butonul <em class="guilabel">Save</em> din panoul <em class="guilabel">Editor</em> dacă ați făcut vreo schimbare. Apoi apăsați butonul <em class="guilabel">Run script</em> pentru a rula script-ul.</p>
</li>
</ol>
<img alt="../_images/67.png" class="align-center" src="../_images/67.png" />
<ol class="arabic simple" start="7">
<li><p class="first">O dată ce script-ul se încheie, faceți clic-dreapta pe stratul <tt class="docutils literal"><span class="pre">ne_10m_admin_0_countries</span></tt> și selectați <em class="guilabel">Open Attribute Table</em>.</p>
</li>
</ol>
<img alt="../_images/77.png" class="align-center" src="../_images/77.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Veți observa 2 noi atribute, numite <tt class="docutils literal"><span class="pre">NEIGHBORS</span></tt> și <tt class="docutils literal"><span class="pre">SUM</span></tt>. Acestea au fost adăugate de către script.</p>
</li>
</ol>
<img alt="../_images/87.png" class="align-center" src="../_images/87.png" />
<p>Pentru referință, mai jos este script-ul complet. Îl puteți modifica pentru a se potrivi cerințelor dumneavoastră.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">################################################################################</span>
<span class="c"># Copyright 2014 Ujaval Gandhi</span>
<span class="c">#</span>
<span class="c">#This program is free software; you can redistribute it and/or</span>
<span class="c">#modify it under the terms of the GNU General Public License</span>
<span class="c">#as published by the Free Software Foundation; either version 2</span>
<span class="c">#of the License, or (at your option) any later version.</span>
<span class="c">#</span>
<span class="c">#This program is distributed in the hope that it will be useful,</span>
<span class="c">#but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c">#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c">#GNU General Public License for more details.</span>
<span class="c">#</span>
<span class="c">#You should have received a copy of the GNU General Public License</span>
<span class="c">#along with this program; if not, write to the Free Software</span>
<span class="c">#Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.</span>
<span class="c">#</span>
<span class="c">################################################################################</span>
<span class="kn">from</span> <span class="nn">qgis.utils</span> <span class="kn">import</span> <span class="n">iface</span>
<span class="kn">from</span> <span class="nn">PyQt4.QtCore</span> <span class="kn">import</span> <span class="n">QVariant</span>

<span class="c"># Replace the values below with values from your layer.</span>
<span class="c"># For example, if your identifier field is called &#39;XYZ&#39;, then change the line</span>
<span class="c"># below to _NAME_FIELD = &#39;XYZ&#39;</span>
<span class="n">_NAME_FIELD</span> <span class="o">=</span> <span class="s">&#39;NAME&#39;</span>
<span class="c"># Replace the value below with the field name that you want to sum up.</span>
<span class="c"># For example, if the # field that you want to sum up is called &#39;VALUES&#39;, then</span>
<span class="c"># change the line below to _SUM_FIELD = &#39;VALUES&#39;</span>
<span class="n">_SUM_FIELD</span> <span class="o">=</span> <span class="s">&#39;POP_EST&#39;</span>

<span class="c"># Names of the new fields to be added to the layer</span>
<span class="n">_NEW_NEIGHBORS_FIELD</span> <span class="o">=</span> <span class="s">&#39;NEIGHBORS&#39;</span>
<span class="n">_NEW_SUM_FIELD</span> <span class="o">=</span> <span class="s">&#39;SUM&#39;</span>

<span class="n">layer</span> <span class="o">=</span> <span class="n">iface</span><span class="o">.</span><span class="n">activeLayer</span><span class="p">()</span>

<span class="c"># Create 2 new fields in the layer that will hold the list of neighbors and sum</span>
<span class="c"># of the chosen field.</span>
<span class="n">layer</span><span class="o">.</span><span class="n">startEditing</span><span class="p">()</span>
<span class="n">layer</span><span class="o">.</span><span class="n">dataProvider</span><span class="p">()</span><span class="o">.</span><span class="n">addAttributes</span><span class="p">(</span>
        <span class="p">[</span><span class="n">QgsField</span><span class="p">(</span><span class="n">_NEW_NEIGHBORS_FIELD</span><span class="p">,</span> <span class="n">QVariant</span><span class="o">.</span><span class="n">String</span><span class="p">),</span>
         <span class="n">QgsField</span><span class="p">(</span><span class="n">_NEW_SUM_FIELD</span><span class="p">,</span> <span class="n">QVariant</span><span class="o">.</span><span class="n">Int</span><span class="p">)])</span>
<span class="n">layer</span><span class="o">.</span><span class="n">updateFields</span><span class="p">()</span>
<span class="c"># Create a dictionary of all features</span>
<span class="n">feature_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">id</span><span class="p">():</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">getFeatures</span><span class="p">()}</span>

<span class="c"># Build a spatial index</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">QgsSpatialIndex</span><span class="p">()</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">feature_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="n">index</span><span class="o">.</span><span class="n">insertFeature</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c"># Loop through all features and find features that touch each feature</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">feature_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&#39;Working on </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">f</span><span class="p">[</span><span class="n">_NAME_FIELD</span><span class="p">]</span>
    <span class="n">geom</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
    <span class="c"># Find all features that intersect the bounding box of the current feature.</span>
    <span class="c"># We use spatial index to find the features intersecting the bounding box</span>
    <span class="c"># of the current feature. This will narrow down the features that we need</span>
    <span class="c"># to check neighboring features.</span>
    <span class="n">intersecting_ids</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">intersects</span><span class="p">(</span><span class="n">geom</span><span class="o">.</span><span class="n">boundingBox</span><span class="p">())</span>
    <span class="c"># Initalize neighbors list and sum</span>
    <span class="n">neighbors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">neighbors_sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">intersecting_id</span> <span class="ow">in</span> <span class="n">intersecting_ids</span><span class="p">:</span>
        <span class="c"># Look up the feature from the dictionary</span>
        <span class="n">intersecting_f</span> <span class="o">=</span> <span class="n">feature_dict</span><span class="p">[</span><span class="n">intersecting_id</span><span class="p">]</span>

        <span class="c"># For our purpose we consider a feature as &#39;neighbor&#39; if it touches or</span>
        <span class="c"># intersects a feature. We use the &#39;disjoint&#39; predicate to satisfy</span>
        <span class="c"># these conditions. So if a feature is not disjoint, it is a neighbor.</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">f</span> <span class="o">!=</span> <span class="n">intersecting_f</span> <span class="ow">and</span>
            <span class="ow">not</span> <span class="n">intersecting_f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">disjoint</span><span class="p">(</span><span class="n">geom</span><span class="p">)):</span>
            <span class="n">neighbors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">intersecting_f</span><span class="p">[</span><span class="n">_NAME_FIELD</span><span class="p">])</span>
            <span class="n">neighbors_sum</span> <span class="o">+=</span> <span class="n">intersecting_f</span><span class="p">[</span><span class="n">_SUM_FIELD</span><span class="p">]</span>
    <span class="n">f</span><span class="p">[</span><span class="n">_NEW_NEIGHBORS_FIELD</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">neighbors</span><span class="p">)</span>
    <span class="n">f</span><span class="p">[</span><span class="n">_NEW_SUM_FIELD</span><span class="p">]</span> <span class="o">=</span> <span class="n">neighbors_sum</span>
    <span class="c"># Update the layer with new attribute values.</span>
    <span class="n">layer</span><span class="o">.</span><span class="n">updateFeature</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">layer</span><span class="o">.</span><span class="n">commitChanges</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Processing complete.&#39;</span>
</pre></div>
</div>
</div>
</div>



  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Ujaval Gandhi.<br/>
      Last updated on Jul 27, 2014.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
<!-- Google+ Badge -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/find_neighbor_polygons.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>
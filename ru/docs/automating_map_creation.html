<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Автоматизация создания карт с помощью Print Composer Atlas &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.1.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Использование QGIS Browser" href="using_qgis_browser.html" />
    <link rel="prev" title="Автоматизация сложных рабочих процессов с помощью Редактора моделей" href="processing_graphical_modeler.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Введение</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Создание карты</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Работа с атрибутами</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Импорт таблиц или CSV-файлов</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Использование модулей расширения</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Поиск и загрузка данных OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Основная стилизация векторного слоя</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Подсчёт длины линий и статистики</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Основы работы со стилями и анализа растровых данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Создание мозаик и обрезка растров</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Работа с данными о местности</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Работа с данными WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Географическая привязка топографических листов и сканированных карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Привязка аэрофотоснимков</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Оцифровка картографических данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Установление связей между таблицами</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Выполнение пространственных присоединений</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Анализ количества точек в полигонах</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Создание тепловых карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Выполнение пространственных запросов</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Анализ ближайшего соседства</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Отбор проб растровых данных с помощью точек или полигонов</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Интерполяция точечных данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Выполнение пакетных файлов с помощью среды обработки</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Автоматизация сложных рабочих процессов с помощью Редактора моделей</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Автоматизация создания карт с помощью Print Composer Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Использование QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Подсчет числа вершин в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Открытие файлов BIL, BIP или BSQ в QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Первые шаги в программировании на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Создание модуля на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Using Custom Python Expression Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Writing Python Scripts for Processing Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Нахождение соседних полигонов в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="leaflet_maps_with_qgis2leaf.html">Веб-карты Leaflet с помощью qgis2leaf</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_gme_connector.html">Использование Google Maps Engine Connector для QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Учебные материалы по QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="teach_qgis.html">Обучение QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Источники данных</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="processing_graphical_modeler.html" title="Previous Chapter: Автоматизация сложных рабочих процессов с помощью Редактора моделей"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Автоматизация сл...</span>
    </a>
  </li>
  <li>
    <a href="using_qgis_browser.html" title="Next Chapter: Использование QGIS Browser"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Использование QG... &raquo;</span>
    </a>
  </li>
              
            
            

            
<form role="form" class="navbar-form navbar-right">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="ro">Romanian</option>
  <option value="fi_FI">Finnish</option>
  <option value="it">Italian</option>
  <option value="nl">Dutch</option>
  <option value="es">Spanish</option>
  <option value="ru">Russian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="fr">French</option>
  <option value="ko">Korean</option>
  <option value="el">Greek</option>
  <option value="de">German</option>
  <option value="id">Indonesian</option>
</select>
</form>

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<div class="g-person" data-width="250" data-href="//plus.google.com/u/0/116912222767108657277" data-showtagline="false" data-showcoverphoto="false" data-rel="author"></div>

<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="automating-map-creation-with-print-composer-atlas">
<h1>Автоматизация создания карт с помощью Print Composer Atlas<a class="headerlink" href="#automating-map-creation-with-print-composer-atlas" title="Ссылка на этот заголовок">¶</a></h1>
<p>[ Download PDF <a class="reference external" href="../pdf/automating_map_creation_a4.pdf">A4</a> <a class="reference external" href="../pdf/automating_map_creation_letter.pdf">Letter</a> ]</p>
<p>If your organization publishes printed or online maps, you often would need to
create many maps with the same template - usually one for each administrative
unit or a region of interest. Creating these maps manually can take a long time
and if you want to update these on a regular basis, it can turn into a chore.
QGIS has a tool called <tt class="docutils literal"><span class="pre">Atlas</span></tt> that can help you create a map template and
easily publish a large number of maps for different geographic regions. If you
are not familiar with the basics of Print Composer, please go through the
<a class="reference internal" href="making_a_map.html"><em>Создание карты</em></a> tutorial.</p>
<div class="section" id="overview-of-the-task">
<h2>Обзор задачи<a class="headerlink" href="#overview-of-the-task" title="Ссылка на этот заголовок">¶</a></h2>
<p>В этом уроке показано, как создать карту водно-болотных угодий для каждого округа в штате Гавайи.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Вы научитесь также<a class="headerlink" href="#other-skills-you-will-learn" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Использовать стиль <tt class="docutils literal"><span class="pre">Инвертированные</span> <span class="pre">полигоны</span></tt> для заливки областей за пределами полигонов.</p>
</li>
<li><p class="first">Использовать выражения в стиле <tt class="docutils literal"><span class="pre">Rule</span> <span class="pre">Based</span></tt> для отображения только текущего объекта в Атласе.</p>
</li>
<li><p class="first">Применять выражения для создания динамических подписей в Компоновщике карт.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Получение данных<a class="headerlink" href="#get-the-data" title="Ссылка на этот заголовок">¶</a></h2>
<p>Мы будем использовать  <a class="reference external" href="http://planning.hawaii.gov/gis/download-gis-data/">GIS Data Layers</a> из  <a class="reference external" href="http://planning.hawaii.gov/">State of Hawaii - Office of Planning</a></p>
<p>Загрузите слой <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/HI_Wetlands.shp.zip">Wetlands</a> из категории Biologic and Ecologic</p>
<p>Загрузите слой <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/county10.shp.zip">Census County Boundaries 2010</a> из категории Cultural and Demographic.</p>
<p>Для удобства вы можете загрузить оба набора данных напрямую по ссылкам ниже:</p>
<p><a class="reference external" href="../../downloads/HI_Wetlands.shp.zip">HI_Wetlands.shp.zip</a></p>
<p><a class="reference external" href="../../downloads/county10.shp.zip">county10.shp.zip</a></p>
<p>Источник данных: <a class="reference internal" href="credits.html#hawaii" id="id1">[HAWAII]</a></p>
</div>
<div class="section" id="procedure">
<h2>Методика<a class="headerlink" href="#procedure" title="Ссылка на этот заголовок">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Запустите QGIS и перейдите к <em class="menuselection">Layer ‣ Add Layer ‣ Add Vector Layer</em>.</p>
</li>
</ol>
<img alt="../_images/110.png" class="align-center" src="../_images/110.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Перейдите к файлу <tt class="docutils literal"><span class="pre">HI_Wetlands.shp.zip</span></tt> и нажмите <em class="guilabel">Open</em>.</p>
</li>
</ol>
<img alt="../_images/21.png" class="align-center" src="../_images/21.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Выберите слой <tt class="docutils literal"><span class="pre">HI_Wetlands_Poly</span></tt> и нажмите <em class="guilabel">OK</em>.</p>
</li>
</ol>
<img alt="../_images/31.png" class="align-center" src="../_images/31.png" />
<ol class="arabic simple" start="4">
<li><p class="first">Вы увидите многоугольники, представляющие водно-болотные угодья во всем штате Гавайи. Так как мы хотим получить отдельные карты водно-болотных угодий для каждого округа в штате, нам понадобится слой границ округов. Перейдите к <em class="menuselection">Layer ‣ Add Layer ‣ Add Vector Layer</em> и найдите файл <tt class="docutils literal"><span class="pre">county10.shp.zip</span></tt>. Нажмите <em class="guilabel">Open</em>.</p>
</li>
</ol>
<img alt="../_images/41.png" class="align-center" src="../_images/41.png" />
<ol class="arabic simple" start="5">
<li><p class="first">Перейдите к <em class="menuselection">Project ‣ New Print Composer</em>.</p>
</li>
</ol>
<img alt="../_images/51.png" class="align-center" src="../_images/51.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Оставьте название макета пустым и нажмите <em class="guilabel">OK</em>.</p>
</li>
</ol>
<img alt="../_images/61.png" class="align-center" src="../_images/61.png" />
<ol class="arabic simple" start="7">
<li><p class="first">Перейдите к <em class="menuselection">Layout ‣ Add Map</em>.</p>
</li>
</ol>
<img alt="../_images/71.png" class="align-center" src="../_images/71.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Нарисуйте прямоугольник, удерживая левую кнопку мыши, там, где вы хотели бы вставить карту.</p>
</li>
</ol>
<img alt="../_images/81.png" class="align-center" src="../_images/81.png" />
<ol class="arabic simple" start="9">
<li><p class="first">Прокрутите вкладку <em class="guilabel">Item Properties</em> вниз и поставьте галочку в поле <em class="guilabel">Controlled by atlas</em>. Это означает, что охват отображаемой карты будет определяться инструментом <tt class="docutils literal"><span class="pre">Atlas</span></tt>.</p>
</li>
</ol>
<img alt="../_images/91.png" class="align-center" src="../_images/91.png" />
<ol class="arabic simple" start="10">
<li>Switch to the <em class="guilabel">Atlas generation</em> tab. Check the
<em class="guilabel">Generate an atlas</em> box. Select the <tt class="docutils literal"><span class="pre">county10</span></tt> as the
<em class="guilabel">Coverage layer</em>. This will indicate that we want to create 1 map
each for every polygon feature in the <tt class="docutils literal"><span class="pre">county10</span></tt> layer. You can also
check the <em class="guilabel">Hidden coverage layer</em> so that the features themselves
will not appear on the map.</li>
</ol>
<img alt="../_images/101.png" class="align-center" src="../_images/101.png" />
<ol class="arabic simple" start="11">
<li><p class="first">Вы заметите, что изображение карты не изменилось после настройки параметров инструмента Атлас. Перейдите к меню <em class="menuselection">Atlas ‣ Preview Atlas</em>.</p>
</li>
</ol>
<img alt="../_images/111.png" class="align-center" src="../_images/111.png" />
<ol class="arabic simple" start="12">
<li><p class="first">Вы увидите, что карта обновилась, теперь она показывает, как будут выглядеть отдельные карты. Обратите внимание, что номер текущего объекта слоя покрытия показывается в правом нижнем углу.</p>
</li>
</ol>
<img alt="../_images/121.png" class="align-center" src="../_images/121.png" />
<ol class="arabic simple" start="13">
<li><p class="first">Вы можете просмотреть, как будет выглядеть карта для каждого из полигонов округов. Перейдите к меню <em class="menuselection">Atlas ‣ Next Feature</em>.</p>
</li>
</ol>
<img alt="../_images/131.png" class="align-center" src="../_images/131.png" />
<ol class="arabic simple" start="14">
<li><p class="first">Инструмент Атлас перерисует карту для охвата следующего объекта в слое покрытия.</p>
</li>
</ol>
<img alt="../_images/141.png" class="align-center" src="../_images/141.png" />
<ol class="arabic simple" start="15">
<li><p class="first">Давайте добавим подписи к карте. Перейдите к меню <em class="menuselection">Layout ‣ Add Label</em>.</p>
</li>
</ol>
<img alt="../_images/151.png" class="align-center" src="../_images/151.png" />
<ol class="arabic simple" start="16">
<li><p class="first">На вкладке <em class="guilabel">Item properties</em> нажмите кнопку <em class="guilabel">Insert an expression...</em>.</p>
</li>
</ol>
<img alt="../_images/161.png" class="align-center" src="../_images/161.png" />
<ol class="arabic simple" start="17">
<li><p class="first">Подпись карты может использовать атрибуты из слоя покрытия. Функция <tt class="docutils literal"><span class="pre">concat</span></tt> используется для объединения нескольких текстовых элементов в один. В данном случае мы присоединим значение атрибута <tt class="docutils literal"><span class="pre">NAME10</span></tt> слоя <tt class="docutils literal"><span class="pre">county10</span></tt> слоя с текстом <tt class="docutils literal"><span class="pre">County</span> <span class="pre">of</span></tt>. Добавьте выражение, как показано ниже, и нажмите <em class="guilabel">OK</em>.</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>concat(&#39;County of &#39;, &quot;NAME10&quot;)
</pre></div>
</div>
<ol class="arabic simple" start="18">
<li><p class="first">Отрегулируйте размер шрифта по своим предпочтениям.</p>
</li>
</ol>
<img alt="../_images/181.png" class="align-center" src="../_images/181.png" />
<ol class="arabic simple" start="19">
<li>Add another label and enter <tt class="docutils literal"><span class="pre">Wetlands</span> <span class="pre">Map</span></tt> under the <em class="guilabel">Main
properties</em>. Since there is no expression here, this text will remain the
same on all maps.</li>
</ol>
<img alt="../_images/191.png" class="align-center" src="../_images/191.png" />
<ol class="arabic simple" start="20">
<li><p class="first">Перейдите к меню <em class="menuselection">Atlas ‣ Last Feature</em> и убедитесь, что подписи карты отображаются, как нужно. Вы заметите, что на карте водно-болотных угодий есть полигоны, которые идут через океан, что выглядит некрасиво. Мы можем изменить стиль, чтобы районы за пределами границ округа были скрыты.</p>
</li>
</ol>
<img alt="../_images/20.png" class="align-center" src="../_images/20.png" />
<ol class="arabic simple" start="21">
<li><p class="first">Переключитесь на главное окно QGIS. Щелкните правой кнопкой мыши на слое <tt class="docutils literal"><span class="pre">county10</span></tt> и выберите <em class="guilabel">Properties</em>.</p>
</li>
</ol>
<img alt="../_images/211.png" class="align-center" src="../_images/211.png" />
<ol class="arabic simple" start="22">
<li><p class="first">На вкладке <em class="guilabel">Style</em> выберите визуализацию <em class="guilabel">Inverted polygons</em>. Этот стиль настраивает отображение <cite>внешней</cite> части полигона - не внутренней. Выберите белый цвет заливки и нажмите <em class="guilabel">OK</em>.</p>
</li>
</ol>
<img alt="../_images/22.png" class="align-center" src="../_images/22.png" />
<ol class="arabic simple" start="23">
<li>Switch to the Print Composer window. If we want the effect of the inverted
polygons to show, we need to uncheck the <em class="guilabel">Hidden coverage layer</em>
box under <em class="guilabel">Atlas generation</em>. You will now see that the rendered
image is clean and areas outside the coverage polygon is not visible.</li>
</ol>
<img alt="../_images/23.png" class="align-center" src="../_images/23.png" />
<ol class="arabic simple" start="24">
<li>There is one problem though. You can see areas of the map that are outside
the coverage layer boundary but still visible. This is because Atlas
doesn&#8217;t automatically hide other features. This can be useful in some
cases, but for our purpose, we only want to show wetlands of the county
whose map is being generated. To fix this, switch back to the main QGIS
window and right-click the <tt class="docutils literal"><span class="pre">county10</span></tt> layer and select
<em class="guilabel">Properties</em>.</li>
</ol>
<img alt="../_images/24.png" class="align-center" src="../_images/24.png" />
<ol class="arabic simple" start="25">
<li>In the <em class="guilabel">Style</em> tab, select <em class="guilabel">Rule-based</em> renderer as the
<em class="guilabel">Sub renderer</em>. Double-click the area under <em class="guilabel">Rule</em>.</li>
</ol>
<img alt="../_images/25.png" class="align-center" src="../_images/25.png" />
<ol class="arabic simple" start="26">
<li>Click the <em class="guilabel">...</em> button next to <em class="guilabel">Filter</em>.</li>
</ol>
<img alt="../_images/26.png" class="align-center" src="../_images/26.png" />
<ol class="arabic simple" start="27">
<li>In the <em class="guilabel">Expression string builder</em>, expand the <em class="guilabel">Atlas</em>
group of functions. The <tt class="docutils literal"><span class="pre">$atlasfeatureid</span></tt> function will return the
currently selected feature. We will construct an expression that will
select only the currently selected Atlas feature. Enter the expression as
below:</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>$id = $atlasfeatureid
</pre></div>
</div>
<img alt="../_images/27.png" class="align-center" src="../_images/27.png" />
<ol class="arabic simple" start="28">
<li>Back in the Print Composer window, click the <em class="guilabel">Update preview</em>
button under <em class="guilabel">Item properties</em> tab to see the changes. Notice
that now only the area covering the county boundary is shown.</li>
</ol>
<img alt="../_images/28.png" class="align-center" src="../_images/28.png" />
<ol class="arabic simple" start="29">
<li>We will now add another dynamic label to show the current date. Go to
<em class="menuselection">Layout ‣ Add Label</em> and select the area on the map. Click
<em class="guilabel">Insert an expression</em> button.</li>
</ol>
<img alt="../_images/29.png" class="align-center" src="../_images/29.png" />
<ol class="arabic simple" start="30">
<li>Expand the <em class="guilabel">Date and Time</em> functions group and you will find the
<tt class="docutils literal"><span class="pre">$now</span></tt> function. This holds the current system time. The function
<tt class="docutils literal"><span class="pre">todate()</span></tt> will convert this to a date string. Enter the expression as
below:</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>concat(&#39;Created on: &#39;, todate($now))
</pre></div>
</div>
<img alt="../_images/30.png" class="align-center" src="../_images/30.png" />
<ol class="arabic simple" start="31">
<li>Add another label citing the data source. You may also add other map
elements such as a north arrow, scalebar etc. as described in
<a class="reference internal" href="making_a_map.html"><em>Создание карты</em></a> tutorial.</li>
</ol>
<img alt="../_images/311.png" class="align-center" src="../_images/311.png" />
<ol class="arabic simple" start="32">
<li>Once you are satisfied with the map layout, go to <em class="menuselection">Atlas ‣
Export Atlas as Images</em>.</li>
</ol>
<img alt="../_images/32.png" class="align-center" src="../_images/32.png" />
<ol class="arabic simple" start="33">
<li>Select a directory on your computer and click <em class="guilabel">Choose</em>.</li>
</ol>
<img alt="../_images/33.png" class="align-center" src="../_images/33.png" />
<ol class="arabic simple" start="34">
<li>The Atlas tool will now iterate through each feature in the coverage layer
and create a separate map image based on the template we created. You can
see the images in the directory once the process completes.</li>
</ol>
<img alt="../_images/34.png" class="align-center" src="../_images/34.png" />
<ol class="arabic simple" start="35">
<li>Here are the map images for refeence.</li>
</ol>
<img alt="../_images/35_1.jpg" class="align-center" src="../_images/35_1.jpg" />
<img alt="../_images/35_2.jpg" class="align-center" src="../_images/35_2.jpg" />
<img alt="../_images/35_3.jpg" class="align-center" src="../_images/35_3.jpg" />
<img alt="../_images/35_4.jpg" class="align-center" src="../_images/35_4.jpg" />
<img alt="../_images/35_5.jpg" class="align-center" src="../_images/35_5.jpg" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Ujaval Gandhi.<br/>
      Обновлено: Aug 18, 2015.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
<!-- Google+ Badge -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/automating_map_creation.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>